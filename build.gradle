allprojects {
    apply plugin: 'idea'
    apply plugin: 'java'
}
subprojects {
	repositories {
	    mavenCentral()
	}

	dependencies {
	    testCompile(
	            'junit:junit:4.11'
	    )
	}
}

task wrapper(type: Wrapper) {
    gradleVersion = '1.10'

    def jvmOpts = "-Djava.awt.headless=true -Dfile.encoding=UTF-8"
    inputs.property("jvmOpts", jvmOpts)

    doLast {
        def optsEnvVar = "DEFAULT_JVM_OPTS"
        scriptFile.write scriptFile.text.replace("$optsEnvVar=\"\"", "$optsEnvVar=\"$jvmOpts\"")
        batchScript.write batchScript.text.replace("set $optsEnvVar=", "set $optsEnvVar=$jvmOpts")
    }
}




